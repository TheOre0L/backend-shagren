{"openapi":"3.0.0","paths":{"/":{"get":{"operationId":"AppController_hello","parameters":[],"responses":{"200":{"description":""}},"tags":["App"]}},"/orders":{"get":{"operationId":"OrderController_orders","parameters":[{"name":"page","required":true,"in":"query","description":"Номер страницы","schema":{"default":1,"example":1,"type":"number"}},{"name":"limit","required":true,"in":"query","description":"Количество элементов на странице","schema":{"default":10,"example":10,"type":"number"}},{"name":"statusId","required":false,"in":"query","description":"Фильтр по статусу заказа. Можно указать несколько","schema":{"format":"number","example":1,"type":"number","enum":[1,2,3,4,5,6,7,8,9,10,11]}},{"name":"customerId","required":false,"in":"query","description":"Фильтр по покупателю","schema":{"format":"uuid","example":"6741f01d-0369-48ab-9102-3f6a6c9c763d","type":"string"}},{"name":"createdFrom","required":false,"in":"query","description":"Фильтр по дате создания. Заказ создан после указаной даты","schema":{"format":"date-time","example":"2025-02-17T10:42:45.411Z","type":"string"}},{"name":"createdTo","required":false,"in":"query","description":"Фильтр по дате создания. Заказ создан до указаной даты","schema":{"format":"date-time","example":"2025-02-18T10:42:45.411Z","type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/PaginationDto"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/OrderResponseDto"}}}}]}}}},"403":{"description":"Доступ запрещен"},"404":{"description":"Не найдено"}},"summary":"Список заказов","tags":["Orders"]}},"/orders/status-list":{"get":{"operationId":"OrderController_statuses","parameters":[],"responses":{"200":{"description":""}},"summary":"Список возможных статусов заказа","tags":["Orders"]}},"/customers":{"post":{"operationId":"CustomerController_createCustomer","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCustomerDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerResponseDto"}}}},"400":{"description":"Неверно заданы параметры"},"403":{"description":"Доступ запрещен"},"404":{"description":"Не найдено"}},"summary":"Создание заказчика","tags":["Customer"]},"get":{"operationId":"CustomerController_getAll","parameters":[{"name":"page","required":true,"in":"query","description":"Номер страницы","schema":{"default":1,"example":1,"type":"number"}},{"name":"limit","required":true,"in":"query","description":"Количество элементов на странице","schema":{"default":10,"example":10,"type":"number"}},{"name":"minOrdersCount","required":false,"in":"query","description":"Фильтр по минимальному количеству заказов","schema":{"format":"number","type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"allOf":[{"$ref":"#/components/schemas/PaginationDto"},{"properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/CustomerResponseDto"}}}}]}}}},"400":{"description":"Неверно заданы параметры"},"403":{"description":"Доступ запрещен"},"404":{"description":"Не найдено"}},"summary":"Список заказчиков","tags":["Customer"]}},"/customers/{id}":{"get":{"operationId":"CustomerController_getById","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerResponseDto"}}}},"400":{"description":"Неверно заданы параметры"},"403":{"description":"Доступ запрещен"},"404":{"description":"Не найдено"}},"summary":"Поиск определённого заказчика","tags":["Customer"]},"put":{"operationId":"CustomerController_updateCustomer","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCustomerDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CustomerResponseDto"}}}},"400":{"description":"Неверно заданы параметры"},"403":{"description":"Доступ запрещен"},"404":{"description":"Не найдено"}},"summary":"Изменение данных заказчика","tags":["Customer"]}},"/templates":{"post":{"operationId":"TemplatesController_create","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateTemplateDto"}}}},"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TemplatesResponseDto"}}}},"400":{"description":"Неверно заданы параметры"},"403":{"description":"Доступ запрещен"},"404":{"description":"Не найдено"}},"summary":"Создание шаблона","tags":["Templates"]},"get":{"operationId":"TemplatesController_findAll","parameters":[{"name":"page","required":true,"in":"query","description":"Номер страницы","schema":{"default":1,"example":1,"type":"number"}},{"name":"limit","required":true,"in":"query","description":"Количество элементов на странице","schema":{"default":10,"example":10,"type":"number"}},{"name":"productTypeId","required":false,"in":"query","description":"Фильтр по типу продукта","schema":{"format":"number","example":"1","type":"number"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"type":"array"}}}},"400":{"description":"Неверно заданы параметры"},"403":{"description":"Доступ запрещен"},"404":{"description":"Не найдено"}},"summary":"Список шаблонов","tags":["Templates"]}},"/templates/{id}":{"get":{"operationId":"TemplatesController_findOne","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TemplatesResponseDto"}}}},"400":{"description":"Неверно заданы параметры"},"403":{"description":"Доступ запрещен"},"404":{"description":"Не найдено"}},"summary":"Поиск шаблона","tags":["Templates"]}}},"info":{"title":"ШильдикОнлайн","description":"API","version":"1.0","contact":{}},"tags":[],"servers":[{"url":"http://localhost:3000","description":"Local"},{"url":"http://dev.shildik-online.ru:3000","description":"Dev"},{"url":"https://shildik-online.ru","description":"Production"}],"components":{"schemas":{"PaginationDto":{"type":"object","properties":{"total":{"type":"number","description":"Всего элементов"},"limit":{"type":"number","description":"Лимит. Максимум 100"},"page":{"type":"number","description":"Номер страницы"}},"required":["total","limit","page"]},"OrderResponseDto":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"customerId":{"type":"string","format":"uuid"},"quantity":{"type":"number","description":"Общее кол-во продукции в заказе"},"price":{"type":"number","description":"Стоимость заказа в рублях, без учета доставки"},"statusId":{"type":"number","enum":[1,2,3,4,5,6,7,8,9,10,11]},"statusTitle":{"type":"string","enum":["Новый","Принят","В работе","Готов","Контроль качества","Готов к доставке","Передан в доставку","Доставляется","Завершен","Неуспешный","Отменен"]},"paymentId":{"type":"string","format":"uuid"},"deliveryId":{"type":"string","format":"uuid"},"notes":{"type":"string"},"paid":{"type":"boolean"},"createdAt":{"format":"date-time","type":"string"},"updatedAt":{"format":"date-time","type":"string"}},"required":["id","customerId","quantity","price","statusId","statusTitle","paymentId","deliveryId","notes","paid","createdAt","updatedAt"]},"CreateCustomerDto":{"type":"object","properties":{"name":{"type":"string","description":"ФИО заказчика","example":"Петров Пётр Петрович"},"phone":{"type":"string","description":"Номер телефона заказчика","example":"+79283000001"},"email":{"type":"string","description":"E-mail заказчика","example":"example@example.com","format":"email"}},"required":["name","phone","email"]},"CustomerResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Уникальный идентификатор заказчика","example":"5db1ba6a-06c4-4c18-977f-d69e4d403870","format":"uuid"},"name":{"type":"string","description":"ФИО заказчика","example":"Петров Пётр Петрович"},"email":{"type":"string","description":"E-mail заказчика","example":"example@example.com","format":"email"},"phone":{"type":"string","description":"Номер телефона заказчика","example":"+79283000001","format":"phone"},"createdAt":{"type":"string","description":"Дата создания заказчика","example":"2025-02-17T10:42:45.414Z","format":"dateTime"},"updatedAt":{"type":"string","description":"Дата обновления заказчика","example":"2025-02-17T10:42:45.414Z","format":"dateTime"}},"required":["id","name","email","phone"]},"CreateTemplateDto":{"type":"object","properties":{"title":{"type":"string","description":"Название шаблона","example":"Шаблон"},"design":{"type":"string","description":"JSON дизайна","example":"{}"},"imagePath":{"type":"string","description":"Путь к изображению","example":"image.png"},"productTypeId":{"type":"number","description":"Тип продукта","example":"1"}},"required":["title","design","imagePath","productTypeId"]},"TemplatesResponseDto":{"type":"object","properties":{"id":{"type":"string","description":"Уникальный идентификатор шаблона","example":"214d74a0-dce0-4280-b41d-354ef9f9ba51","format":"uuid"},"title":{"type":"string","description":"Название шаблона","example":"Шаблон"},"design":{"type":"object","description":"JSON дизайна","example":"{}"},"imagePath":{"type":"string","description":"Путь к изображению","example":"image.png"},"productTypeId":{"type":"number","description":"Тип продукта","example":"1"}},"required":["id","title","design","imagePath","productTypeId"]}}}}